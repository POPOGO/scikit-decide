(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{467:function(t,a,s){"use strict";s.r(a);var n=s(51),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),s("h2",{attrs:{id:"run-a-gym-environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-a-gym-environment"}},[t._v("#")]),t._v(" Run a Gym environment")]),t._v(" "),s("el-link",{staticStyle:{margin:"10px"},attrs:{type:"primary",icon:"el-icon-bottom",underline:!1,href:"/notebooks/gym_env.ipynb"}},[t._v("Download Notebook")]),t._v(" "),s("el-link",{staticStyle:{margin:"10px"},attrs:{type:"warning",icon:"el-icon-cloudy",underline:!1,href:"https://colab.research.google.com/github/airbus-ai-research/skdecide/gh-pages/notebooks/gym_env.ipynb"}},[t._v("Run in Google Colab")]),t._v(" "),s("p",[t._v("Import modules.")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" gym\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skdecide"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hub"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gym "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" GymDomain\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skdecide"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" rollout\n")])])]),s("p",[t._v("Select a "),s("a",{attrs:{href:"https://gym.openai.com/envs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gym environment"),s("OutboundLink")],1),t._v(" and run 5 episodes.")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[t._v("ENV_NAME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CartPole-v1'")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or any other installed environment ('MsPacman-v4'...)")]),t._v("\n\ngym_domain "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GymDomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gym"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ENV_NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrollout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gym_domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_episodes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_steps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_framerate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" outcome_formatter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngym_domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# optional but recommended to avoid Gym errors at the end")]),t._v("\n")])])]),s("h2",{attrs:{id:"solve-a-gym-environment-with-reinforcement-learning"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solve-a-gym-environment-with-reinforcement-learning"}},[t._v("#")]),t._v(" Solve a Gym environment with Reinforcement Learning")]),t._v(" "),s("el-link",{staticStyle:{margin:"10px"},attrs:{type:"primary",icon:"el-icon-bottom",underline:!1,href:"/notebooks/baselines_solver.ipynb"}},[t._v("Download Notebook")]),t._v(" "),s("el-link",{staticStyle:{margin:"10px"},attrs:{type:"warning",icon:"el-icon-cloudy",underline:!1,href:"https://colab.research.google.com/github/airbus-ai-research/skdecide/gh-pages/notebooks/baselines_solver.ipynb"}},[t._v("Run in Google Colab")]),t._v(" "),s("p",[t._v("Import modules.")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" gym\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" stable_baselines "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PPO2\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" stable_baselines"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("policies "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MlpPolicy\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skdecide"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hub"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gym "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" GymDomain\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skdecide"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hub"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("solver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stable_baselines "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" StableBaseline\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skdecide"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" rollout\n")])])]),s("p",[t._v("Select a "),s("a",{attrs:{href:"https://gym.openai.com/envs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gym environment"),s("OutboundLink")],1),t._v(" and solve it with a "),s("a",{attrs:{href:"https://stable-baselines.readthedocs.io/en/master/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stable Baselines"),s("OutboundLink")],1),t._v(" solver wrapped in scikit-decide.\nThe solution is then saved (for later reuse) and assessed in rollout.")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[t._v("ENV_NAME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CartPole-v1'")]),t._v("\n\ndomain_factory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GymDomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gym"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ENV_NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndomain "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" domain_factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" StableBaseline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("check_domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    solver_factory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" StableBaseline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PPO2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MlpPolicy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" learn_config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'total_timesteps'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" verbose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    solver "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GymDomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("solve_with"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("solver_factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" domain_factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    solver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEMP_Baselines'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    rollout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" solver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_episodes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_steps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_framerate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" outcome_formatter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Restore saved solution and re-run rollout.")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[t._v("solver "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GymDomain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("solve_with"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("solver_factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" domain_factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" load_path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEMP_Baselines'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrollout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" solver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_episodes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_steps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_framerate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" outcome_formatter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);